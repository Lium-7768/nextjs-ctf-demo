# AI Code Review - GitHub Actions

è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ GitHub Actions å’Œ Claude AI è‡ªåŠ¨å®¡æŸ¥ Pull Requests ä¸­çš„ä»£ç å˜æ›´ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **è‡ªåŠ¨ AI å®¡æŸ¥**: PR åˆ›å»ºæˆ–æ›´æ–°æ—¶è‡ªåŠ¨è§¦å‘
- ğŸ’¬ **PR è¯„è®º**: å®¡æŸ¥ç»“æœç›´æ¥ä½œä¸ºè¯„è®ºå‘å¸ƒåˆ° PR
- ğŸ” **æ™ºèƒ½åˆ†æ**: ä½¿ç”¨ Claude 3.5 Sonnet åˆ†æä»£ç å˜æ›´
- ğŸ“ **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒ TypeScript, JavaScript, Python, Go, Rust, Java, C/C++ ç­‰
- âš™ï¸ **å¯é…ç½®**: å¯è‡ªå®šä¹‰æ’é™¤æ¨¡å¼å’Œæ–‡ä»¶é™åˆ¶

## è®¾ç½®æ­¥éª¤

### 1. è·å– Anthropic API Key

1. è®¿é—® [Anthropic Console](https://console.anthropic.com/)
2. åˆ›å»º API Key
3. å¤åˆ¶ API Key

### 2. é…ç½® GitHub Secrets

åœ¨ä½ çš„ GitHub ä»“åº“ä¸­æ·»åŠ  Secret:

1. è¿›å…¥ä»“åº“çš„ **Settings** â†’ **Secrets and variables** â†’ **Actions**
2. ç‚¹å‡» **New repository secret**
3. æ·»åŠ ä»¥ä¸‹ secret:

| Secret åç§° | å€¼ |
|------------|-----|
| `ANTHROPIC_API_KEY` | ä½ çš„ Anthropic API Key |

### 3. æäº¤å·¥ä½œæµæ–‡ä»¶

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å·²æäº¤åˆ°ä»“åº“:

```
.github/
â”œâ”€â”€ workflows/
â”‚   â””â”€â”€ code-review.yml    # GitHub Actions å·¥ä½œæµ
â””â”€â”€ scripts/
    â””â”€â”€ code-review.js     # AI å®¡æŸ¥è„šæœ¬
```

### 4. å®‰è£…ä¾èµ–

```bash
npm install
```

## ä½¿ç”¨æ–¹æ³•

åˆ›å»ºæˆ–æ›´æ–° Pull Request åï¼ŒAI ä»£ç å®¡æŸ¥ä¼šè‡ªåŠ¨è¿è¡Œ:

1. **è§¦å‘æ¡ä»¶**:
   - PR æ‰“å¼€æ—¶
   - PR æœ‰æ–°çš„ commit æ—¶
   - PR é‡æ–°æ‰“å¼€æ—¶

2. **æŸ¥çœ‹å®¡æŸ¥ç»“æœ**:
   - è¿›å…¥ PR é¡µé¢
   - æ»šåŠ¨åˆ°è¯„è®ºåŒºåŸŸ
   - æŸ¥çœ‹ "ğŸ¤– AI Code Review" è¯„è®º

## å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PR åˆ›å»º/æ›´æ–°   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions  â”‚
â”‚   è§¦å‘å·¥ä½œæµ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è·å– PR diff   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é€åˆ° Claude   â”‚
â”‚   AI å®¡æŸ¥       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘å¸ƒè¯„è®ºåˆ° PR  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é…ç½®é€‰é¡¹

åœ¨ `.github/scripts/code-review.js` ä¸­å¯ä»¥è°ƒæ•´é…ç½®:

```javascript
const CONFIG = {
  maxFiles: 10,              // æœ€å¤šå®¡æŸ¥çš„æ–‡ä»¶æ•°
  maxFileSize: 3000,         // å•ä¸ªæ–‡ä»¶æœ€å¤§å­—ç¬¦æ•°
  excludePatterns: [         // æ’é™¤çš„æ–‡ä»¶æ¨¡å¼
    'node_modules',
    'dist',
    'build',
    '*.min.js',
    // ...
  ]
};
```

## å®¡æŸ¥æŠ¥å‘Šæ ¼å¼

AI å®¡æŸ¥ç»“æœåŒ…å«ä»¥ä¸‹éƒ¨åˆ†:

1. **Summary**: å˜æ›´æ¦‚è¿°
2. **Issues**: å‘ç°çš„é—®é¢˜ã€bug æˆ–å®‰å…¨éšæ‚£
3. **Suggestions**: æ”¹è¿›å»ºè®®å’Œæœ€ä½³å®è·µ
4. **Positive**: åšå¾—å¥½çš„åœ°æ–¹

## ç¤ºä¾‹å®¡æŸ¥è¯„è®º

```markdown
## ğŸ¤– AI Code Review

### Summary
This PR adds user authentication functionality...

### Issues
- `app/auth/login.tsx:45`: Potential security issue - password should be hashed before comparison
- `lib/db.ts:12`: SQL injection vulnerability - use parameterized queries

### Suggestions
- Consider adding error handling for failed login attempts
- Add rate limiting to prevent brute force attacks
- Use environment variables for sensitive configuration

### Positive
- Clean code structure
- Good TypeScript usage
- Comprehensive error messages

---
*This review was generated by [Claude](https://www.anthropic.com/claude)*
```

## æ•…éšœæ’é™¤

### å·¥ä½œæµæœªè§¦å‘

- æ£€æŸ¥ PR æ˜¯å¦åŒ…å«æ”¯æŒçš„æ–‡ä»¶ç±»å‹
- ç¡®è®¤å·¥ä½œæµæ–‡ä»¶åœ¨ `.github/workflows/` ç›®å½•ä¸‹
- æŸ¥çœ‹ Actions æ ‡ç­¾é¡µæŸ¥çœ‹é”™è¯¯ä¿¡æ¯

### API é”™è¯¯

- éªŒè¯ `ANTHROPIC_API_KEY` secret æ˜¯å¦æ­£ç¡®è®¾ç½®
- æ£€æŸ¥ API Key æ˜¯å¦æœ‰è¶³å¤Ÿçš„é…é¢

### å®¡æŸ¥æœªå‘å¸ƒ

- ç¡®è®¤ GitHub Token æœ‰ `pull-requests: write` æƒé™
- æŸ¥çœ‹ Actions æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

## æˆæœ¬è¯´æ˜

- Claude API æŒ‰ä½¿ç”¨é‡è®¡è´¹
- æ¯ä¸ª PR å®¡æŸ¥å¤§çº¦æ¶ˆè€— 1000-5000 tokens
- å»ºè®®è®¾ç½®ä½¿ç”¨é™åˆ¶ä»¥æ§åˆ¶æˆæœ¬

## è®¸å¯è¯

MIT
