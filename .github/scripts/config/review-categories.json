{
  "review": {
    "categories": [
      {
        "id": "security",
        "name": "安全审查",
        "description": "检查安全漏洞和潜在风险",
        "severity": "critical",
        "prompt_template": "从安全角度审查以下代码变更：\n\n重点关注：\n- SQL 注入、XSS、CSRF 等常见漏洞\n- 敏感信息泄露（密钥、密码、token）\n- 权限检查和身份验证\n- 输入验证和数据清理\n- 不安全的依赖或 API 使用\n\n代码：\n{diff}"
      },
      {
        "id": "bugs",
        "name": "潜在 Bug",
        "description": "检查可能导致运行时错误的问题",
        "severity": "error",
        "prompt_template": "从 Bug 识别角度审查以下代码：\n\n重点关注：\n- 空指针/未定义引用\n- 边界条件和异常处理\n- 竞态条件和并发问题\n- 内存泄漏和资源管理\n- 类型不匹配和转换错误\n\n代码：\n{diff}"
      },
      {
        "id": "code_quality",
        "name": "代码质量",
        "description": "检查代码质量和最佳实践",
        "severity": "info",
        "prompt_template": "从代码质量角度审查以下代码：\n\n重点关注：\n- 命名规范和可读性\n- 代码重复和 DRY 原则\n- 函数复杂度和职责分离\n- 错误处理机制\n- 类型安全和类型定义\n- 注释和文档\n\n代码：\n{diff}"
      },
      {
        "id": "performance",
        "name": "性能分析",
        "description": "检查性能问题和优化机会",
        "severity": "warning",
        "prompt_template": "从性能角度审查以下代码：\n\n重点关注：\n- 算法复杂度和效率\n- 不必要的循环或计算\n- 内存使用和优化机会\n- 数据库查询效率（N+1 问题）\n- 缓存机会\n- React/前端性能（渲染优化）\n\n代码：\n{diff}"
      },
      {
        "id": "typescript",
        "name": "TypeScript 类型",
        "description": "TypeScript 类型安全和最佳实践",
        "severity": "info",
        "prompt_template": "从 TypeScript 类型安全角度审查以下代码：\n\n重点关注：\n- 类型定义是否完整准确\n- 避免使用 any\n- 正确使用泛型\n- 类型断言是否必要\n- 接口和类型定义的合理性\n\n代码：\n{diff}"
      },
      {
        "id": "testing",
        "name": "测试覆盖",
        "description": "检查测试覆盖率和质量",
        "severity": "info",
        "prompt_template": "从测试角度审查以下代码：\n\n重点关注：\n- 是否缺少必要的测试\n- 测试用例的完整性\n- 边界条件是否被测试\n- 错误路径是否被覆盖\n- 测试的可维护性\n\n代码：\n{diff}"
      }
    ]
  },
  "system_prompt": "你是一个专业的代码审查 AI 助手。\n\n审查代码时：\n1. 专注于实际问题，避免无关评论\n2. 提供 file:line 格式的具体引用（例如: src/utils.ts:42）\n3. 用中文回复\n4. 使用 markdown 格式\n5. 对于每个问题，说明严重程度（严重/警告/建议）\n6. 提供具体的改进建议\n\n输出格式：\n```markdown\n## 审查摘要\n简要总结本次变更的目的和主要内容\n\n## 发现的问题\n### [严重级别] 问题标题\n- **位置**: file:line\n- **问题**: 具体问题描述\n- **建议**: 改进建议\n\n## 优点\n列出做得好的地方\n\n## 总体建议\n整体性的建议和注意事项\n```"
}
